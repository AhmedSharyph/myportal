<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Profile</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="auth.js"></script>
</head>
<body class="bg-gray-100">

  <!-- Static Header -->
  <header class="bg-blue-600 text-white p-4 flex justify-between items-center">
    <div class="flex items-center space-x-4">
      <h1 class="text-xl font-bold">My App</h1>
      <span id="welcome" class="font-medium"></span>
    </div>
    <nav class="flex space-x-4">
      <a href="dashboard.html" class="hover:underline">Dashboard</a>
      <a href="profile.html" class="hover:underline">Profile</a>
      <button id="logoutBtn" class="bg-red-500 px-3 py-1 rounded hover:bg-red-600">Logout</button>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="p-8">
    <h2 class="text-2xl font-bold mb-4">Profile</h2>
    <p>Email: <span id="profileEmail"></span></p>
    <p>Username: <span id="profileUsername"></span></p>
  </main>

  <footer class="bg-gray-200 text-gray-700 p-4 text-center mt-8">
    &copy; <span id="year"></span> My App. Developed by 
    <a href="https://ahmedshareef.mv" target="_blank" class="text-blue-600 hover:underline">AhmedShareef</a>
  </footer>

  <script>
    // Show current year
    document.getElementById("year").innerText = new Date().getFullYear();

    // Check login
    const email = localStorage.getItem("userEmail");
    if (!email) {
      window.location.replace("index.html");
    } else {
      document.getElementById("welcome").innerText = `Welcome, ${email}`;
      document.getElementById("profileEmail").innerText = email;
      document.getElementById("profileUsername").innerText = email.split("@")[0];
    }

    // Logout button
    document.getElementById("logoutBtn").addEventListener("click", () => {
      localStorage.removeItem("userEmail");
      localStorage.removeItem("loggedInUser");
      window.location.replace("index.html");
    });
  </script>

</body>
</html>
